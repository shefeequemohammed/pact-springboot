# PACT-MessageBroker Contract testing

## pact-messagebroker-consumer

This is a simple project which generates a pact file for the message it expects to receive. The message format is as below:-

                {
                  "firstName": "John",
                  "lastName": "Wick",
                  "id": "1",
                  "age": 21
                }

## pact-messagebroker-producer

This will generate the message and verify it against the pact. If the test is successful, the log will be as follows:-

           Verifying a pact between studentMessageConsumer and studentMessageProducer
            a student data
          21:39:39.538 [main] DEBUG a.c.d.p.p.junit.target.AmqpTarget - Classloader = sun.misc.Launcher$AppClassLoader@18b4aac2
          21:39:39.543 [main] DEBUG a.c.d.p.p.ProviderVerifierBase - projectClasspath = [file:/C:/Shefeeque/Study/Intellij/ideaIU-2018.2.8.win/lib/idea_rt.jar, file:/C:/Shefeeque/Study/Intellij/ideaIU-2018.2.8.win/plugins/junit/lib/junit-rt.jar, file:/C:/Shefeeque/Study/Intellij/ideaIU-2018.2.8.win/plugins/junit/lib/junit5-rt.jar, file:/C:/Program%20Files/Java/jdk1.8.0_202/jre/lib/charsets.jar, file:/C:/Program%20Files/Java/jdk1.8.0_202/jre/lib/deploy.jar, file:/C:/Program%20Files/Java/jdk1.8.0_202/jre/lib/ext/access-bridge-64.jar, file:/C:/Program%20Files/Java/jdk1.8.0_202/jre/lib/ext/cldrdata.jar, file:/C:/Program%20Files/Java/jdk1.8.0_202/jre/lib/ext/dnsns.jar, file:/C:/Program%20Files/Java/jdk1.8.0_202/jre/lib/ext/jaccess.jar, file:/C:/Program%20Files/Java/jdk1.8.0_202/jre/lib/ext/jfxrt.jar, file:/C:/Program%20Files/Java/jdk1.8.0_202/jre/lib/ext/localedata.jar, file:/C:/Program%20Files/Java/jdk1.8.0_202/jre/lib/ext/nashorn.jar, file:/C:/Program%20Files/Java/jdk1.8.0_202/jre/lib/ext/sunec.jar, file:/C:/Program%20Files/Java/jdk1.8.0_202/jre/lib/ext/sunjce_provider.jar, file:/C:/Program%20Files/Java/jdk1.8.0_202/jre/lib/ext/sunmscapi.jar, file:/C:/Program%20Files/Java/jdk1.8.0_202/jre/lib/ext/sunpkcs11.jar, file:/C:/Program%20Files/Java/jdk1.8.0_202/jre/lib/ext/zipfs.jar, file:/C:/Program%20Files/Java/jdk1.8.0_202/jre/lib/javaws.jar, file:/C:/Program%20Files/Java/jdk1.8.0_202/jre/lib/jce.jar, file:/C:/Program%20Files/Java/jdk1.8.0_202/jre/lib/jfr.jar, file:/C:/Program%20Files/Java/jdk1.8.0_202/jre/lib/jfxswt.jar, file:/C:/Program%20Files/Java/jdk1.8.0_202/jre/lib/jsse.jar, file:/C:/Program%20Files/Java/jdk1.8.0_202/jre/lib/management-agent.jar, file:/C:/Program%20Files/Java/jdk1.8.0_202/jre/lib/plugin.jar, file:/C:/Program%20Files/Java/jdk1.8.0_202/jre/lib/resources.jar, file:/C:/Program%20Files/Java/jdk1.8.0_202/jre/lib/rt.jar, file:/C:/Shefeeque/Study/Projects/pact-springboot/pact-messagebroker-producer/target/test-classes/, file:/C:/Shefeeque/Study/Projects/pact-springboot/pact-messagebroker-producer/target/classes/, file:/C:/Users/Shefeeque/.m2/repository/junit/junit/4.12/junit-4.12.jar, file:/C:/Users/Shefeeque/.m2/repository/org/hamcrest/hamcrest-core/1.3/hamcrest-core-1.3.jar, file:/C:/Users/Shefeeque/.m2/repository/org/hamcrest/hamcrest-all/1.3/hamcrest-all-1.3.jar, file:/C:/Users/Shefeeque/.m2/repository/au/com/dius/pact-jvm-provider-junit_2.12/3.6.10/pact-jvm-provider-junit_2.12-3.6.10.jar, file:/C:/Users/Shefeeque/.m2/repository/au/com/dius/pact-jvm-support/3.6.10/pact-jvm-support-3.6.10.jar, file:/C:/Users/Shefeeque/.m2/repository/org/jetbrains/kotlin/kotlin-stdlib-jdk8/1.3.30/kotlin-stdlib-jdk8-1.3.30.jar, file:/C:/Users/Shefeeque/.m2/repository/org/jetbrains/kotlin/kotlin-stdlib/1.3.30/kotlin-stdlib-1.3.30.jar, file:/C:/Users/Shefeeque/.m2/repository/org/jetbrains/kotlin/kotlin-stdlib-common/1.3.30/kotlin-stdlib-common-1.3.30.jar, file:/C:/Users/Shefeeque/.m2/repository/org/jetbrains/annotations/13.0/annotations-13.0.jar, file:/C:/Users/Shefeeque/.m2/repository/org/jetbrains/kotlin/kotlin-stdlib-jdk7/1.3.30/kotlin-stdlib-jdk7-1.3.30.jar, file:/C:/Users/Shefeeque/.m2/repository/com/google/code/findbugs/jsr305/3.0.2/jsr305-3.0.2.jar, file:/C:/Users/Shefeeque/.m2/repository/com/github/salomonbrys/kotson/kotson/2.5.0/kotson-2.5.0.jar, file:/C:/Users/Shefeeque/.m2/repository/au/com/dius/pact-jvm-provider_2.12/3.6.10/pact-jvm-provider_2.12-3.6.10.jar, file:/C:/Users/Shefeeque/.m2/repository/au/com/dius/pact-jvm-model/3.6.10/pact-jvm-model-3.6.10.jar, file:/C:/Users/Shefeeque/.m2/repository/com/github/zafarkhaja/java-semver/0.9.0/java-semver-0.9.0.jar, file:/C:/Users/Shefeeque/.m2/repository/com/amazonaws/aws-java-sdk-s3/1.11.30/aws-java-sdk-s3-1.11.30.jar, file:/C:/Users/Shefeeque/.m2/repository/com/amazonaws/aws-java-sdk-kms/1.11.30/aws-java-sdk-kms-1.11.30.jar, file:/C:/Users/Shefeeque/.m2/repository/com/amazonaws/aws-java-sdk-core/1.11.30/aws-java-sdk-core-1.11.30.jar, file:/C:/Users/Shefeeque/.m2/repository/com/fasterxml/jackson/dataformat/jackson-dataformat-cbor/2.6.6/jackson-dataformat-cbor-2.6.6.jar, file:/C:/Users/Shefeeque/.m2/repository/joda-time/joda-time/2.8.1/joda-time-2.8.1.jar, file:/C:/Users/Shefeeque/.m2/repository/com/amazonaws/jmespath-java/1.0/jmespath-java-1.0.jar, file:/C:/Users/Shefeeque/.m2/repository/org/apache/commons/commons-collections4/4.1/commons-collections4-4.1.jar, file:/C:/Users/Shefeeque/.m2/repository/com/github/mifmif/generex/1.0.2/generex-1.0.2.jar, file:/C:/Users/Shefeeque/.m2/repository/dk/brics/automaton/automaton/1.11-8/automaton-1.11-8.jar, file:/C:/Users/Shefeeque/.m2/repository/org/jetbrains/kotlin/kotlin-reflect/1.3.30/kotlin-reflect-1.3.30.jar, file:/C:/Users/Shefeeque/.m2/repository/au/com/dius/pact-jvm-pact-broker/3.6.10/pact-jvm-pact-broker-3.6.10.jar, file:/C:/Users/Shefeeque/.m2/repository/org/codehaus/groovy/groovy/2.5.6/groovy-2.5.6.jar, file:/C:/Users/Shefeeque/.m2/repository/org/codehaus/groovy/groovy-json/2.5.6/groovy-json-2.5.6.jar, file:/C:/Users/Shefeeque/.m2/repository/org/dmfs/rfc3986-uri/0.8/rfc3986-uri-0.8.jar, file:/C:/Users/Shefeeque/.m2/repository/org/dmfs/iterators/1.5/iterators-1.5.jar, file:/C:/Users/Shefeeque/.m2/repository/org/dmfs/optional/0.3/optional-0.3.jar, file:/C:/Users/Shefeeque/.m2/repository/io/github/microutils/kotlin-logging/1.4.4/kotlin-logging-1.4.4.jar, file:/C:/Users/Shefeeque/.m2/repository/au/com/dius/pact-jvm-matchers_2.12/3.6.10/pact-jvm-matchers_2.12-3.6.10.jar, file:/C:/Users/Shefeeque/.m2/repository/io/gatling/jsonpath_2.12/0.6.10/jsonpath_2.12-0.6.10.jar, file:/C:/Users/Shefeeque/.m2/repository/org/scala-lang/modules/scala-parser-combinators_2.12/1.0.6/scala-parser-combinators_2.12-1.0.6.jar, file:/C:/Users/Shefeeque/.m2/repository/com/googlecode/java-diff-utils/diffutils/1.3.0/diffutils-1.3.0.jar, file:/C:/Users/Shefeeque/.m2/repository/org/scala-lang/modules/scala-xml_2.12/1.0.6/scala-xml_2.12-1.0.6.jar, file:/C:/Users/Shefeeque/.m2/repository/org/scala-lang/scala-library/2.12.7/scala-library-2.12.7.jar, file:/C:/Users/Shefeeque/.m2/repository/com/typesafe/scala-logging/scala-logging_2.12/3.7.2/scala-logging_2.12-3.7.2.jar, file:/C:/Users/Shefeeque/.m2/repository/org/atteo/evo-inflector/1.2.2/evo-inflector-1.2.2.jar, file:/C:/Users/Shefeeque/.m2/repository/commons-io/commons-io/2.5/commons-io-2.5.jar, file:/C:/Users/Shefeeque/.m2/repository/org/fusesource/jansi/jansi/1.17.1/jansi-1.17.1.jar, file:/C:/Users/Shefeeque/.m2/repository/org/reflections/reflections/0.9.11/reflections-0.9.11.jar, file:/C:/Users/Shefeeque/.m2/repository/org/javassist/javassist/3.21.0-GA/javassist-3.21.0-GA.jar, file:/C:/Users/Shefeeque/.m2/repository/org/scala-lang/modules/scala-java8-compat_2.12/0.9.0/scala-java8-compat_2.12-0.9.0.jar, file:/C:/Users/Shefeeque/.m2/repository/org/apache/httpcomponents/fluent-hc/4.5.5/fluent-hc-4.5.5.jar, file:/C:/Users/Shefeeque/.m2/repository/commons-logging/commons-logging/1.2/commons-logging-1.2.jar, file:/C:/Users/Shefeeque/.m2/repository/org/apache/httpcomponents/httpclient/4.5.5/httpclient-4.5.5.jar, file:/C:/Users/Shefeeque/.m2/repository/org/apache/httpcomponents/httpcore/4.4.9/httpcore-4.4.9.jar, file:/C:/Users/Shefeeque/.m2/repository/commons-codec/commons-codec/1.10/commons-codec-1.10.jar, file:/C:/Users/Shefeeque/.m2/repository/org/apache/commons/commons-lang3/3.4/commons-lang3-3.4.jar, file:/C:/Users/Shefeeque/.m2/repository/org/jooq/jool/0.9.14/jool-0.9.14.jar, file:/C:/Users/Shefeeque/.m2/repository/org/slf4j/slf4j-api/1.7.25/slf4j-api-1.7.25.jar, file:/C:/Users/Shefeeque/.m2/repository/com/github/rholder/guava-retrying/2.0.0/guava-retrying-2.0.0.jar, file:/C:/Users/Shefeeque/.m2/repository/com/google/guava/guava/28.0-jre/guava-28.0-jre.jar, file:/C:/Users/Shefeeque/.m2/repository/com/google/guava/failureaccess/1.0.1/failureaccess-1.0.1.jar, file:/C:/Users/Shefeeque/.m2/repository/com/google/guava/listenablefuture/9999.0-empty-to-avoid-conflict-with-guava/listenablefuture-9999.0-empty-to-avoid-conflict-with-guava.jar, file:/C:/Users/Shefeeque/.m2/repository/org/checkerframework/checker-qual/2.8.1/checker-qual-2.8.1.jar, file:/C:/Users/Shefeeque/.m2/repository/com/google/errorprone/error_prone_annotations/2.3.2/error_prone_annotations-2.3.2.jar, file:/C:/Users/Shefeeque/.m2/repository/com/google/j2objc/j2objc-annotations/1.3/j2objc-annotations-1.3.jar, file:/C:/Users/Shefeeque/.m2/repository/org/codehaus/mojo/animal-sniffer-annotations/1.17/animal-sniffer-annotations-1.17.jar, file:/C:/Users/Shefeeque/.m2/repository/javax/mail/mail/1.5.0-b01/mail-1.5.0-b01.jar, file:/C:/Users/Shefeeque/.m2/repository/javax/activation/activation/1.1/activation-1.1.jar, file:/C:/Users/Shefeeque/.m2/repository/com/google/code/gson/gson/2.8.5/gson-2.8.5.jar, file:/C:/Users/Shefeeque/.m2/repository/ch/qos/logback/logback-classic/1.2.3/logback-classic-1.2.3.jar, file:/C:/Users/Shefeeque/.m2/repository/ch/qos/logback/logback-core/1.2.3/logback-core-1.2.3.jar, file:/C:/Users/Shefeeque/.m2/repository/com/fasterxml/jackson/core/jackson-databind/2.9.9.1/jackson-databind-2.9.9.1.jar, file:/C:/Users/Shefeeque/.m2/repository/com/fasterxml/jackson/core/jackson-annotations/2.9.0/jackson-annotations-2.9.0.jar, file:/C:/Users/Shefeeque/.m2/repository/com/fasterxml/jackson/core/jackson-core/2.9.9/jackson-core-2.9.9.jar, file:/C:/Shefeeque/Study/Intellij/ideaIU-2018.2.8.win/lib/idea_rt.jar]
          21:39:44.004 [main] DEBUG a.c.d.p.p.ProviderVerifierBase - Found annotated method public java.lang.String com.shefzee.messagebroker.producer.ProviderTest.generateTestMessage() throws com.fasterxml.jackson.core.JsonProcessingException
          21:39:44.006 [main] DEBUG a.c.d.p.p.ProviderVerifierBase - Found annotation @au.com.dius.pact.provider.PactVerifyProvider(value=a student data)
              generates a message which
          21:39:45.950 [main] DEBUG a.c.d.pact.matchers.JsonBodyMatcher - compareValues: Matcher defined for path List($, firstName)
          21:39:45.969 [main] DEBUG a.c.d.pact.matchers.MatcherExecutor - comparing type of 'Shef' to 'John' at [$, firstName]
          21:39:46.003 [main] DEBUG a.c.d.pact.matchers.JsonBodyMatcher - compareValues: Matcher defined for path List($, lastName)
          21:39:46.011 [main] DEBUG a.c.d.pact.matchers.MatcherExecutor - comparing type of 'Mohd' to 'Wick' at [$, lastName]
          21:39:46.015 [main] DEBUG a.c.d.pact.matchers.JsonBodyMatcher - compareValues: Matcher defined for path List($, id)
          21:39:46.018 [main] DEBUG a.c.d.pact.matchers.MatcherExecutor - comparing type of '1' to '1' at [$, id]
          21:39:46.023 [main] DEBUG a.c.d.pact.matchers.JsonBodyMatcher - compareValues: Matcher defined for path List($, age)
          21:39:46.034 [main] DEBUG a.c.d.pact.matchers.MatcherExecutor - comparing type of 23 to a number at [$, age]
                has a matching body (OK)
                has matching metadata (OK)
          21:39:46.042 [main] DEBUG a.c.d.p.p.DefaultTestResultAccumulator - Received test result 'au.com.dius.pact.pactbroker.TestResult$Ok@4cc1c39f' for Pact studentMessageProducer-studentMessageConsumer and a student data
          21:39:46.045 [main] DEBUG a.c.d.p.p.DefaultTestResultAccumulator - Number of interactions #1 and results: [au.com.dius.pact.pactbroker.TestResult$Ok@4cc1c39f]
          21:39:46.047 [main] DEBUG a.c.d.p.p.DefaultTestResultAccumulator - All interactions for Pact studentMessageProducer-studentMessageConsumer are verified
          21:39:46.049 [main] WARN  a.c.d.p.p.DefaultTestResultAccumulator - Skipping publishing of verification results as it has been disabled (pact.verifier.publishResults is not 'true')

          Process finished with exit code 0


Let's make an error and see what error is displayed.
Consumer expects the age property to be an Integer. Let's change it to String in Provider and run the test.

        Verifying a pact between studentMessageConsumer and studentMessageProducer
          a student data
        21:45:15.138 [main] DEBUG a.c.d.p.p.junit.target.AmqpTarget - Classloader = sun.misc.Launcher$AppClassLoader@18b4aac2
        21:45:15.144 [main] DEBUG a.c.d.p.p.ProviderVerifierBase - projectClasspath = [file:/C:/Shefeeque/Study/Intellij/ideaIU-2018.2.8.win/lib/idea_rt.jar, file:/C:/Shefeeque/Study/Intellij/ideaIU-2018.2.8.win/plugins/junit/lib/junit-rt.jar, file:/C:/Shefeeque/Study/Intellij/ideaIU-2018.2.8.win/plugins/junit/lib/junit5-rt.jar, file:/C:/Program%20Files/Java/jdk1.8.0_202/jre/lib/charsets.jar, file:/C:/Program%20Files/Java/jdk1.8.0_202/jre/lib/deploy.jar, file:/C:/Program%20Files/Java/jdk1.8.0_202/jre/lib/ext/access-bridge-64.jar, file:/C:/Program%20Files/Java/jdk1.8.0_202/jre/lib/ext/cldrdata.jar, file:/C:/Program%20Files/Java/jdk1.8.0_202/jre/lib/ext/dnsns.jar, file:/C:/Program%20Files/Java/jdk1.8.0_202/jre/lib/ext/jaccess.jar, file:/C:/Program%20Files/Java/jdk1.8.0_202/jre/lib/ext/jfxrt.jar, file:/C:/Program%20Files/Java/jdk1.8.0_202/jre/lib/ext/localedata.jar, file:/C:/Program%20Files/Java/jdk1.8.0_202/jre/lib/ext/nashorn.jar, file:/C:/Program%20Files/Java/jdk1.8.0_202/jre/lib/ext/sunec.jar, file:/C:/Program%20Files/Java/jdk1.8.0_202/jre/lib/ext/sunjce_provider.jar, file:/C:/Program%20Files/Java/jdk1.8.0_202/jre/lib/ext/sunmscapi.jar, file:/C:/Program%20Files/Java/jdk1.8.0_202/jre/lib/ext/sunpkcs11.jar, file:/C:/Program%20Files/Java/jdk1.8.0_202/jre/lib/ext/zipfs.jar, file:/C:/Program%20Files/Java/jdk1.8.0_202/jre/lib/javaws.jar, file:/C:/Program%20Files/Java/jdk1.8.0_202/jre/lib/jce.jar, file:/C:/Program%20Files/Java/jdk1.8.0_202/jre/lib/jfr.jar, file:/C:/Program%20Files/Java/jdk1.8.0_202/jre/lib/jfxswt.jar, file:/C:/Program%20Files/Java/jdk1.8.0_202/jre/lib/jsse.jar, file:/C:/Program%20Files/Java/jdk1.8.0_202/jre/lib/management-agent.jar, file:/C:/Program%20Files/Java/jdk1.8.0_202/jre/lib/plugin.jar, file:/C:/Program%20Files/Java/jdk1.8.0_202/jre/lib/resources.jar, file:/C:/Program%20Files/Java/jdk1.8.0_202/jre/lib/rt.jar, file:/C:/Shefeeque/Study/Projects/pact-springboot/pact-messagebroker-producer/target/test-classes/, file:/C:/Shefeeque/Study/Projects/pact-springboot/pact-messagebroker-producer/target/classes/, file:/C:/Users/Shefeeque/.m2/repository/junit/junit/4.12/junit-4.12.jar, file:/C:/Users/Shefeeque/.m2/repository/org/hamcrest/hamcrest-core/1.3/hamcrest-core-1.3.jar, file:/C:/Users/Shefeeque/.m2/repository/org/hamcrest/hamcrest-all/1.3/hamcrest-all-1.3.jar, file:/C:/Users/Shefeeque/.m2/repository/au/com/dius/pact-jvm-provider-junit_2.12/3.6.10/pact-jvm-provider-junit_2.12-3.6.10.jar, file:/C:/Users/Shefeeque/.m2/repository/au/com/dius/pact-jvm-support/3.6.10/pact-jvm-support-3.6.10.jar, file:/C:/Users/Shefeeque/.m2/repository/org/jetbrains/kotlin/kotlin-stdlib-jdk8/1.3.30/kotlin-stdlib-jdk8-1.3.30.jar, file:/C:/Users/Shefeeque/.m2/repository/org/jetbrains/kotlin/kotlin-stdlib/1.3.30/kotlin-stdlib-1.3.30.jar, file:/C:/Users/Shefeeque/.m2/repository/org/jetbrains/kotlin/kotlin-stdlib-common/1.3.30/kotlin-stdlib-common-1.3.30.jar, file:/C:/Users/Shefeeque/.m2/repository/org/jetbrains/annotations/13.0/annotations-13.0.jar, file:/C:/Users/Shefeeque/.m2/repository/org/jetbrains/kotlin/kotlin-stdlib-jdk7/1.3.30/kotlin-stdlib-jdk7-1.3.30.jar, file:/C:/Users/Shefeeque/.m2/repository/com/google/code/findbugs/jsr305/3.0.2/jsr305-3.0.2.jar, file:/C:/Users/Shefeeque/.m2/repository/com/github/salomonbrys/kotson/kotson/2.5.0/kotson-2.5.0.jar, file:/C:/Users/Shefeeque/.m2/repository/au/com/dius/pact-jvm-provider_2.12/3.6.10/pact-jvm-provider_2.12-3.6.10.jar, file:/C:/Users/Shefeeque/.m2/repository/au/com/dius/pact-jvm-model/3.6.10/pact-jvm-model-3.6.10.jar, file:/C:/Users/Shefeeque/.m2/repository/com/github/zafarkhaja/java-semver/0.9.0/java-semver-0.9.0.jar, file:/C:/Users/Shefeeque/.m2/repository/com/amazonaws/aws-java-sdk-s3/1.11.30/aws-java-sdk-s3-1.11.30.jar, file:/C:/Users/Shefeeque/.m2/repository/com/amazonaws/aws-java-sdk-kms/1.11.30/aws-java-sdk-kms-1.11.30.jar, file:/C:/Users/Shefeeque/.m2/repository/com/amazonaws/aws-java-sdk-core/1.11.30/aws-java-sdk-core-1.11.30.jar, file:/C:/Users/Shefeeque/.m2/repository/com/fasterxml/jackson/dataformat/jackson-dataformat-cbor/2.6.6/jackson-dataformat-cbor-2.6.6.jar, file:/C:/Users/Shefeeque/.m2/repository/joda-time/joda-time/2.8.1/joda-time-2.8.1.jar, file:/C:/Users/Shefeeque/.m2/repository/com/amazonaws/jmespath-java/1.0/jmespath-java-1.0.jar, file:/C:/Users/Shefeeque/.m2/repository/org/apache/commons/commons-collections4/4.1/commons-collections4-4.1.jar, file:/C:/Users/Shefeeque/.m2/repository/com/github/mifmif/generex/1.0.2/generex-1.0.2.jar, file:/C:/Users/Shefeeque/.m2/repository/dk/brics/automaton/automaton/1.11-8/automaton-1.11-8.jar, file:/C:/Users/Shefeeque/.m2/repository/org/jetbrains/kotlin/kotlin-reflect/1.3.30/kotlin-reflect-1.3.30.jar, file:/C:/Users/Shefeeque/.m2/repository/au/com/dius/pact-jvm-pact-broker/3.6.10/pact-jvm-pact-broker-3.6.10.jar, file:/C:/Users/Shefeeque/.m2/repository/org/codehaus/groovy/groovy/2.5.6/groovy-2.5.6.jar, file:/C:/Users/Shefeeque/.m2/repository/org/codehaus/groovy/groovy-json/2.5.6/groovy-json-2.5.6.jar, file:/C:/Users/Shefeeque/.m2/repository/org/dmfs/rfc3986-uri/0.8/rfc3986-uri-0.8.jar, file:/C:/Users/Shefeeque/.m2/repository/org/dmfs/iterators/1.5/iterators-1.5.jar, file:/C:/Users/Shefeeque/.m2/repository/org/dmfs/optional/0.3/optional-0.3.jar, file:/C:/Users/Shefeeque/.m2/repository/io/github/microutils/kotlin-logging/1.4.4/kotlin-logging-1.4.4.jar, file:/C:/Users/Shefeeque/.m2/repository/au/com/dius/pact-jvm-matchers_2.12/3.6.10/pact-jvm-matchers_2.12-3.6.10.jar, file:/C:/Users/Shefeeque/.m2/repository/io/gatling/jsonpath_2.12/0.6.10/jsonpath_2.12-0.6.10.jar, file:/C:/Users/Shefeeque/.m2/repository/org/scala-lang/modules/scala-parser-combinators_2.12/1.0.6/scala-parser-combinators_2.12-1.0.6.jar, file:/C:/Users/Shefeeque/.m2/repository/com/googlecode/java-diff-utils/diffutils/1.3.0/diffutils-1.3.0.jar, file:/C:/Users/Shefeeque/.m2/repository/org/scala-lang/modules/scala-xml_2.12/1.0.6/scala-xml_2.12-1.0.6.jar, file:/C:/Users/Shefeeque/.m2/repository/org/scala-lang/scala-library/2.12.7/scala-library-2.12.7.jar, file:/C:/Users/Shefeeque/.m2/repository/com/typesafe/scala-logging/scala-logging_2.12/3.7.2/scala-logging_2.12-3.7.2.jar, file:/C:/Users/Shefeeque/.m2/repository/org/atteo/evo-inflector/1.2.2/evo-inflector-1.2.2.jar, file:/C:/Users/Shefeeque/.m2/repository/commons-io/commons-io/2.5/commons-io-2.5.jar, file:/C:/Users/Shefeeque/.m2/repository/org/fusesource/jansi/jansi/1.17.1/jansi-1.17.1.jar, file:/C:/Users/Shefeeque/.m2/repository/org/reflections/reflections/0.9.11/reflections-0.9.11.jar, file:/C:/Users/Shefeeque/.m2/repository/org/javassist/javassist/3.21.0-GA/javassist-3.21.0-GA.jar, file:/C:/Users/Shefeeque/.m2/repository/org/scala-lang/modules/scala-java8-compat_2.12/0.9.0/scala-java8-compat_2.12-0.9.0.jar, file:/C:/Users/Shefeeque/.m2/repository/org/apache/httpcomponents/fluent-hc/4.5.5/fluent-hc-4.5.5.jar, file:/C:/Users/Shefeeque/.m2/repository/commons-logging/commons-logging/1.2/commons-logging-1.2.jar, file:/C:/Users/Shefeeque/.m2/repository/org/apache/httpcomponents/httpclient/4.5.5/httpclient-4.5.5.jar, file:/C:/Users/Shefeeque/.m2/repository/org/apache/httpcomponents/httpcore/4.4.9/httpcore-4.4.9.jar, file:/C:/Users/Shefeeque/.m2/repository/commons-codec/commons-codec/1.10/commons-codec-1.10.jar, file:/C:/Users/Shefeeque/.m2/repository/org/apache/commons/commons-lang3/3.4/commons-lang3-3.4.jar, file:/C:/Users/Shefeeque/.m2/repository/org/jooq/jool/0.9.14/jool-0.9.14.jar, file:/C:/Users/Shefeeque/.m2/repository/org/slf4j/slf4j-api/1.7.25/slf4j-api-1.7.25.jar, file:/C:/Users/Shefeeque/.m2/repository/com/github/rholder/guava-retrying/2.0.0/guava-retrying-2.0.0.jar, file:/C:/Users/Shefeeque/.m2/repository/com/google/guava/guava/28.0-jre/guava-28.0-jre.jar, file:/C:/Users/Shefeeque/.m2/repository/com/google/guava/failureaccess/1.0.1/failureaccess-1.0.1.jar, file:/C:/Users/Shefeeque/.m2/repository/com/google/guava/listenablefuture/9999.0-empty-to-avoid-conflict-with-guava/listenablefuture-9999.0-empty-to-avoid-conflict-with-guava.jar, file:/C:/Users/Shefeeque/.m2/repository/org/checkerframework/checker-qual/2.8.1/checker-qual-2.8.1.jar, file:/C:/Users/Shefeeque/.m2/repository/com/google/errorprone/error_prone_annotations/2.3.2/error_prone_annotations-2.3.2.jar, file:/C:/Users/Shefeeque/.m2/repository/com/google/j2objc/j2objc-annotations/1.3/j2objc-annotations-1.3.jar, file:/C:/Users/Shefeeque/.m2/repository/org/codehaus/mojo/animal-sniffer-annotations/1.17/animal-sniffer-annotations-1.17.jar, file:/C:/Users/Shefeeque/.m2/repository/javax/mail/mail/1.5.0-b01/mail-1.5.0-b01.jar, file:/C:/Users/Shefeeque/.m2/repository/javax/activation/activation/1.1/activation-1.1.jar, file:/C:/Users/Shefeeque/.m2/repository/com/google/code/gson/gson/2.8.5/gson-2.8.5.jar, file:/C:/Users/Shefeeque/.m2/repository/ch/qos/logback/logback-classic/1.2.3/logback-classic-1.2.3.jar, file:/C:/Users/Shefeeque/.m2/repository/ch/qos/logback/logback-core/1.2.3/logback-core-1.2.3.jar, file:/C:/Users/Shefeeque/.m2/repository/com/fasterxml/jackson/core/jackson-databind/2.9.9.1/jackson-databind-2.9.9.1.jar, file:/C:/Users/Shefeeque/.m2/repository/com/fasterxml/jackson/core/jackson-annotations/2.9.0/jackson-annotations-2.9.0.jar, file:/C:/Users/Shefeeque/.m2/repository/com/fasterxml/jackson/core/jackson-core/2.9.9/jackson-core-2.9.9.jar, file:/C:/Shefeeque/Study/Intellij/ideaIU-2018.2.8.win/lib/idea_rt.jar]
        21:45:19.618 [main] DEBUG a.c.d.p.p.ProviderVerifierBase - Found annotated method public java.lang.String com.shefzee.messagebroker.producer.ProviderTest.generateTestMessage() throws com.fasterxml.jackson.core.JsonProcessingException
        21:45:19.620 [main] DEBUG a.c.d.p.p.ProviderVerifierBase - Found annotation @au.com.dius.pact.provider.PactVerifyProvider(value=a student data)
            generates a message which
        21:45:21.278 [main] DEBUG a.c.d.pact.matchers.JsonBodyMatcher - compareValues: Matcher defined for path List($, firstName)
        21:45:21.293 [main] DEBUG a.c.d.pact.matchers.MatcherExecutor - comparing type of 'Shef' to 'John' at [$, firstName]
        21:45:21.310 [main] DEBUG a.c.d.pact.matchers.JsonBodyMatcher - compareValues: Matcher defined for path List($, lastName)
        21:45:21.314 [main] DEBUG a.c.d.pact.matchers.MatcherExecutor - comparing type of 'Mohd' to 'Wick' at [$, lastName]
        21:45:21.321 [main] DEBUG a.c.d.pact.matchers.JsonBodyMatcher - compareValues: Matcher defined for path List($, id)
        21:45:21.327 [main] DEBUG a.c.d.pact.matchers.MatcherExecutor - comparing type of '1' to '1' at [$, id]
        21:45:21.331 [main] DEBUG a.c.d.pact.matchers.JsonBodyMatcher - compareValues: Matcher defined for path List($, age)
        21:45:21.337 [main] DEBUG a.c.d.pact.matchers.MatcherExecutor - comparing type of '23' to a number at [$, age]
              has a matching body (FAILED)
              has matching metadata (OK)

        Failures:

        0) a student data generates a message which has a matching body
              $.age -> Expected '23' to be a number



        java.lang.AssertionError: 
        0 - $.age -> [{mismatch=Expected '23' to be a number, diff=}]

          at au.com.dius.pact.provider.junit.target.BaseTarget.getAssertionError(BaseTarget.kt:71)
          at au.com.dius.pact.provider.junit.target.AmqpTarget.testInteraction(AmqpTarget.kt:50)
          at au.com.dius.pact.provider.junit.InteractionRunner$interactionBlock$statement$1.evaluate(InteractionRunner.kt:202)
          at au.com.dius.pact.provider.junit.InteractionRunner.run(InteractionRunner.kt:145)
          at au.com.dius.pact.provider.junit.PactRunner.runChild(PactRunner.kt:137)
          at au.com.dius.pact.provider.junit.PactRunner.runChild(PactRunner.kt:51)
          at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
          at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
          at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
          at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
          at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
          at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
          at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
          at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68)
          at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47)
          at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242)
          at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)

        21:45:21.456 [main] DEBUG a.c.d.p.p.DefaultTestResultAccumulator - Received test result 'Failed(results=[], description=)' for Pact studentMessageProducer-studentMessageConsumer and a student data
        21:45:21.463 [main] DEBUG a.c.d.p.p.DefaultTestResultAccumulator - Number of interactions #1 and results: [Failed(results=[], description=)]
        21:45:21.464 [main] DEBUG a.c.d.p.p.DefaultTestResultAccumulator - All interactions for Pact studentMessageProducer-studentMessageConsumer are verified
        21:45:21.465 [main] WARN  a.c.d.p.p.DefaultTestResultAccumulator - Skipping publishing of verification results as it has been disabled (pact.verifier.publishResults is not 'true')

        Process finished with exit code -1
